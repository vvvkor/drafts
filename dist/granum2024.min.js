/*! granum2024.js */
(()=>{const a=(e,t,a)=>(e.dataset.parent?e.closest(e.dataset.parent):document)?.querySelectorAll(e.dataset[t]).forEach(e=>a(e)),o=t=>{"checkbox"==t.type?a(t,"nodes",e=>e.classList[t.checked!="reverse"in t.dataset?"add":"remove"](...t.value.split(/\s+/))):("radio"==t.type&&t.checked||t.options)&&a(t,"nodes",e=>e.className=t.value)},d=(e,t)=>{var a=e.closest("li").querySelector("ul");a&&(t&&(t.preventDefault(),a.classList.toggle("hide")),e.classList[a.classList.contains("hide")?"remove":"add"]("act"))};document.addEventListener("DOMContentLoaded",e=>{document.body.classList.add("js");const a=new URL(location.href);document.querySelectorAll("[data-get]:not(form), form[data-get] [name]").forEach(e=>{var t=a.searchParams.getAll(e.dataset.get||e.name);t.length<1||(["checkbox","radio"].includes(e.type)?e.checked=t.includes(e.value):e.matches("input,textarea,select")?e.value=t.join(", "):e.innerHTML=t.join(", "))}),document.querySelectorAll("[data-nodes]").forEach(e=>o(e)),document.querySelectorAll('[href="#open"]').forEach(e=>d(e)),document.querySelectorAll("[data-hint]").forEach(e=>e.removeAttribute("title"))}),document.addEventListener("click",e=>{var t=e.target;const a=t.closest(".sort th, th.sort");if(a&&!t.closest("a, input, [name]")){const s=a.cellIndex,c=a.closest("thead").nextElementSibling;if(1<c.rows.length){const n=a.closest("table").dataset.sort||"info";var o=[...c.rows].map(e=>[e,e.cells[s].textContent.replace(/\s+$/,"")]).map(e=>[e[0],e[1],parseFloat(e[1])]);const l=isNaN(o[0][2])?1:2,r=a.classList.contains(n)&&o[0][l]<o[o.length-1][l]?-1:1;o.sort((e,t)=>e[l]<t[l]?-r:e[l]>t[l]?r:0),o.forEach(e=>c.append(e[0])),[...a.parentNode.children].forEach(e=>e.classList.toggle(n,e==a))}}else location.hash&&["#prev","#next"].includes(t.hash)?(e.preventDefault(),(o=document.querySelector(location.hash)?.dataset["#prev"==t.hash?"prev":"next"])&&(location.hash=o)):"#back"==t.hash?(e.preventDefault(),history.go(-1)):t.hash&&d(t,e)}),document.addEventListener("input",e=>{const t=e.target;t.dataset.check&&a(t,"check",e=>e.checked=t.checked&&!e.closest("[hidden]")),t.dataset.nodes&&o(t),t.dataset.filter&&a(t,"filter",e=>e.querySelectorAll("tbody tr").forEach(e=>e.hidden=!(" "+e.textContent.replace(/\s+/g," ")+" ").match(new RegExp(t.value,"i"))));e=t.dataset.area,e&&(document.querySelector(e).value=t.innerHTML),e=t.dataset.editor;e&&(document.querySelector(e).innerHTML=t.value)}),document.addEventListener("keydown",e=>{"Escape"==e.key&&(location.hash="#escape",document.querySelectorAll("details.pop").forEach(e=>e.removeAttribute("open")))})})();