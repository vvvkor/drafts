/*
+ pop - details.pop
- hint
- dropdown
+ toggle - details
+ accordion - .target nested
+ tree - details nested
- tabs
+ modal
+ drawer
- gallery
*/

:root {
  --backdrop: #6669;/*#0006;/*#0002;*/
  --drawer-width: 20em;
}

.check {}
.hint {}
ul.row {} /* dropdown */
.tree {}
.tabs {}
.gallery {}

/* common */
:where(details.pop) > div, :where(.modal, .drawer):is(:target, :has(:target)) {box-sizing:border-box;background:var(--back);box-shadow:var(--shade);}
:is(.modal, .target):where(:not(:target, :has(:target))) {display:none;}

/* target */
.target {scroll-margin-top:3em;}

/* details */
summary[class*="icon-"] {display:block;overflow:hidden;}

/* details popup */
details.pop {position:relative;}
details.pop, details.pop > summary {display:inline-block;}
details.pop > summary {vertical-align:bottom;}
details.pop > div {position:absolute;left:0;top:100%;z-index:50;width:max-content;min-width:5em;max-width:var(--list-width);}
details.pop > div.l {left:auto;right:0;}

/* modal - do not nest!*/
.modal {z-index:100;position:fixed;overflow:auto;}
.modal:not(.full) {min-height:10rem;max-height:90dvh;min-width:18rem;max-width:90vw;inset:50% auto auto 50%;transform:translate(-50%,-50%);}
.modal.full {inset:0;/*calc(5 * var(--gap));*/}
body:has(.modal.full:target, .modal.full :target) {overflow:hidden;}
/* animations */
.modal:not(.full)/*, ul.row ul*/ {animation:appear .3s;}
@keyframes appear { 0% {opacity:0;} 100% {opacity:1;} }

/* drawer */
.drawer {--wdr:calc(1em + var(--drawer-width));position:fixed;inset:0 auto 0 calc(0em - var(--wdr));width:min(var(--drawer-width), 80%);z-index:80;transition:left .2s, right .2s;overflow:auto;}
.drawer:is(:target, :has(:target)) {left:0;}
.drawer.shift {inset:0 calc(0px - var(--wdr)) 0 auto;}
.drawer.shift:is(:target, :has(:target)) {right:0;}

/* backdrop */
:where(.backdrop) {
  display:none;position:fixed;inset:-5em;z-index:50;cursor:default;outline:none;
  background:var(--backdrop);opacity:.5;
  /*backdrop-filter:blur(.1em) contrast(.7) brightness(.9);*/
}
:where(:is(.modal, .drawer):is(:target, :has(:target))) + .backdrop, 
body:has(:is(.modal, .drawer):target, :is(.modal, .drawer) :target) > .backdrop
  {display:block;}

/* switches */
html:has(#x1:not(:checked)) .x1,
html:has(#x2:not(:checked)) .x2,
html:has(#x3:not(:checked)) .x3,
html:has(#x4:not(:checked)) .x4,
html:has(#x5:not(:checked)) .x5,
html:has(#x6:not(:checked)) .x6,
html:has(#x7:not(:checked)) .x7,
html:has(#x8:not(:checked)) .x8,
html:has(#x9:not(:checked)) .x9
{display:none;}


/*
summary[class*="icon-"] {--fsz:.6;}
summary[class*="icon-"]:before {vertical-align:baseline;}
*/

/* custom summary * /
summary::marker, summary::-webkit-details-marker {display:none;content:"";}
summary {padding-left:1.2em;background:no-repeat .2em 50% / .6em .6em url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 10 10'%3E%3Cpath d='M4 1l4 4-4 4-1-1 3-3-3-3z'/%3E%3C/svg%3E");}
[open] > summary {background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 10 10'%3E%3Cpath d='M1 4l4 4 4-4-1-1-3 3-3-3z' fill='%23666'/%3E%3C/svg%3E");}
*/